import{r as e,j as t,P as a}from"./vendor-frSDhvcu.js";const r=({filters:a,appliedFilters:r,onFilterChange:s,categories:l})=>{const[i,c]=e.useState({}),o=Array.isArray(a)?a:[],n=l&&l.length>0?{attribute_code:"category_id",label:"Category",options:l.map((e=>({label:e.name,value:e.id,count:e.product_count})))}:null,d=n?[n,...o]:o,u=r&&"object"==typeof r?Object.values(r).reduce(((e,t)=>e+(Array.isArray(t)?t.length:0)),0):0;return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),u>0&&t.jsx("button",{onClick:()=>{s({})},className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Clear All"})]}),0===d.length?t.jsx("p",{className:"text-gray-500 text-sm",children:"No filters available"}):t.jsx("div",{className:"space-y-4",children:d.map((e=>{if(!e||!e.attribute_code)return null;if("category_uid"===e.attribute_code)return null;const a=!1!==i[e.attribute_code],l=r&&Array.isArray(r[e.attribute_code])&&r[e.attribute_code].length>0;return t.jsxs("div",{className:"border-b pb-3",children:[t.jsxs("div",{className:"flex justify-between items-center cursor-pointer py-2",onClick:()=>{return t=e.attribute_code,void c((e=>({...e,[t]:!e[t]})));var t},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h3",{className:"font-medium text-gray-800",children:e.label||e.attribute_code}),l&&t.jsx("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full",children:r[e.attribute_code].length})]}),t.jsx("span",{className:"text-gray-500",children:a?"âˆ’":"+"})]}),a&&t.jsxs("div",{className:"mt-2 pl-2",children:[l&&t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx("button",{onClick:t=>{var a;t.stopPropagation(),a=e.attribute_code,s(a,[])},className:"text-xs text-gray-500 hover:text-indigo-600",children:"Clear"})}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Array.isArray(e.options)?e.options.map((a=>{return a&&a.value?t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`${e.attribute_code}-${a.value}`,checked:(l=e.attribute_code,i=a.value,(null==(c=r[l])?void 0:c.includes(i))||!1),onChange:t=>((e,t,a)=>{const l=r[e]||[];let i;i=a?[...l,t]:l.filter((e=>e!==t)),s(e,i)})(e.attribute_code,a.value,t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:`${e.attribute_code}-${a.value}`,className:"ml-2 text-sm text-gray-700",children:a.label||a.value})]},a.value):null;var l,i,c})):t.jsx("p",{className:"text-sm text-gray-500",children:"No options available"})})]})]},e.attribute_code)}))})]})};r.propTypes={filters:a.array,appliedFilters:a.object,onFilterChange:a.func.isRequired,categories:a.array},r.defaultProps={filters:[],appliedFilters:{},categories:[]};const s=e.memo(r);export{s as P};
//# sourceMappingURL=ProductFilter-D1eJOwrX.js.map
