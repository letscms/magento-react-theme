import{j as e}from"./vendor-frSDhvcu.js";import{u as t}from"./useProduct-BzMN_9cj.js";import{e as r}from"./index-CvpdAI6N.js";import{E as s}from"./ErrorMessage-DHxw210G.js";import{L as a}from"./vendor-router-CdLpK7Hz.js";import"./vendor-apollo-CIbFPnud.js";const l=({title:l="Featured Products",count:i=8})=>{const{products:o,loading:c,error:n}=t(),d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),m=(e,t)=>{if(!e.custom_attributes)return null;const r=e.custom_attributes.find((e=>e.attribute_code===t));return r?r.value:null};return c?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:l}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(r,{})})]}):n?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:l}),e.jsx(s,{message:n.message||"Failed to load featured products. Please try again later."})]}):0===o.length?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:l}),e.jsx("p",{className:"text-gray-500",children:"No featured products available at the moment."})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:l}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map((t=>{const r=m(t,"url_key")||t.sku,s=(e=>{if(!e.media_gallery_entries||0===e.media_gallery_entries.length)return"/placeholder-image.jpg";const t=e.media_gallery_entries.find((e=>e.types.includes("image")||e.types.includes("small_image")));return t?`/media/catalog/product${t.file}`:`/media/catalog/product${e.media_gallery_entries[0].file}`})(t),l=m(t,"special_price");return e.jsx("div",{className:"group",children:e.jsxs(a,{to:`/product/${r}`,className:"block",children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg overflow-hidden aspect-square mb-3 relative",children:[e.jsx("img",{src:s,alt:t.name,loading:"lazy",className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.onerror=null,e.target.src="/placeholder-image.jpg"}}),l&&e.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:"SALE"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Quick View"})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-800 mb-1 line-clamp-2 group-hover:text-indigo-600",children:t.name}),e.jsx("div",{className:"flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-600 font-medium mr-2",children:d(l)}),e.jsx("span",{className:"text-gray-500 text-sm line-through",children:d(t.price)})]}):e.jsx("span",{className:"text-gray-800 font-medium",children:d(t.price)})})]})},t.id)}))})]})};export{l as default};
//# sourceMappingURL=FeaturedProducts-10edeRDV.js.map
