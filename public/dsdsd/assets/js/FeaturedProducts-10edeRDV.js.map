{"version":3,"file":"FeaturedProducts-10edeRDV.js","sources":["../../../src/pages/FeaturedProducts.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useProduct } from '../hooks/useProduct';\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\nimport ErrorMessage from '../components/ui/ErrorMessage';\n// import AddToCartButton from '../components/cart/AddToCartButton';\n\nconst FeaturedProducts = ({ title = \"Featured Products\", count = 8 }) => {\n  const { products, loading, error, } = useProduct(count);\n\n  // Format price with currency symbol\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(price);\n  };\n\n  // Find product image\n  const getProductImage = (product) => {\n    if (!product.media_gallery_entries || product.media_gallery_entries.length === 0) {\n      return '/placeholder-image.jpg'; // Default placeholder\n    }\n    \n    const mainImage = product.media_gallery_entries.find(img => img.types.includes('image') || img.types.includes('small_image'));\n    if (mainImage) {\n      return `/media/catalog/product${mainImage.file}`;\n    }\n    \n    return `/media/catalog/product${product.media_gallery_entries[0].file}`;\n  };\n\n  // Find custom attribute value\n  const getAttributeValue = (product, attributeCode) => {\n    if (!product.custom_attributes) return null;\n    \n    const attribute = product.custom_attributes.find(attr => attr.attribute_code === attributeCode);\n    return attribute ? attribute.value : null;\n  };\n\n  // Render loading state\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h2 className=\"text-2xl font-bold mb-6\">{title}</h2>\n        <div className=\"flex justify-center items-center h-64\">\n          <LoadingSpinner />\n        </div>\n      </div>\n    );\n  }\n\n  // Render error state\n  if (error) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h2 className=\"text-2xl font-bold mb-6\">{title}</h2>\n        <ErrorMessage message={error.message || \"Failed to load featured products. Please try again later.\"} />\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h2 className=\"text-2xl font-bold mb-6\">{title}</h2>\n        <p className=\"text-gray-500\">No featured products available at the moment.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h2 className=\"text-2xl font-bold mb-6\">{title}</h2>\n      \n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n        {products.map(product => {\n          const urlKey = getAttributeValue(product, 'url_key') || product.sku;\n          const imageUrl = getProductImage(product);\n          const specialPrice = getAttributeValue(product, 'special_price');\n          \n          return (\n            <div key={product.id} className=\"group\">\n              <Link to={`/product/${urlKey}`} className=\"block\">\n                <div className=\"bg-gray-100 rounded-lg overflow-hidden aspect-square mb-3 relative\">\n                  <img \n                    src={imageUrl} \n                    alt={product.name} \n                    loading=\"lazy\"\n                    className=\"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300\"\n                    onError={(e) => {\n                      e.target.onerror = null;\n                      e.target.src = '/placeholder-image.jpg';\n                    }}\n                  />\n                  \n                  {/* Sale badge */}\n                  {specialPrice && (\n                    <div className=\"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded\">\n                      SALE\n                    </div>\n                  )}\n                  \n                  {/* Quick view button - optional */}\n                  <div className=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    Quick View\n                  </div>\n                </div>\n                \n                <h3 className=\"text-sm font-medium text-gray-800 mb-1 line-clamp-2 group-hover:text-indigo-600\">\n                  {product.name}\n                </h3>\n                \n                <div className=\"flex items-center\">\n                  {specialPrice ? (\n                    <>\n                      <span className=\"text-red-600 font-medium mr-2\">\n                        {formatPrice(specialPrice)}\n                      </span>\n                      <span className=\"text-gray-500 text-sm line-through\">\n                        {formatPrice(product.price)}\n                      </span>\n                    </>\n                  ) : (\n                    <span className=\"text-gray-800 font-medium\">\n                      {formatPrice(product.price)}\n                    </span>\n                  )}\n                </div>\n              </Link>\n              \n              {/* <AddToCartButton \n                product={product} \n                className=\"mt-3 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-md transition-colors duration-300\"\n              /> */}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default FeaturedProducts;\n"],"names":["FeaturedProducts","title","count","products","loading","error","useProduct","formatPrice","price","Intl","NumberFormat","style","currency","format","getAttributeValue","product","attributeCode","custom_attributes","attribute","find","attr","attribute_code","value","jsxs","className","children","jsx","LoadingSpinner","ErrorMessage","message","length","map","urlKey","sku","imageUrl","media_gallery_entries","mainImage","img","types","includes","file","getProductImage","specialPrice","Link","to","jsxRuntimeExports","src","alt","name","onError","e","target","onerror","Fragment","id"],"mappings":"iQAOA,MAAMA,EAAmB,EAAGC,QAAQ,oBAAqBC,QAAQ,MAC/D,MAAMC,SAAEA,EAAAC,QAAUA,EAASC,MAAAA,GAAWC,IAGhCC,EAAeC,GACZ,IAAIC,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPC,SAAU,QACTC,OAAOL,GAkBNM,EAAoB,CAACC,EAASC,KAC9B,IAACD,EAAQE,kBAA0B,OAAA,KAEjC,MAAAC,EAAYH,EAAQE,kBAAkBE,MAAaC,GAAAA,EAAKC,iBAAmBL,IAC1E,OAAAE,EAAYA,EAAUI,MAAQ,MAIvC,OAAIlB,IAEAmB,KAAC,MAAI,CAAAC,UAAU,8BACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,0BAA2BC,SAAMxB,UAC9C,MAAI,CAAAuB,UAAU,wCACbC,SAAAC,EAAAA,IAACC,WAOLtB,IAEAkB,KAAC,MAAI,CAAAC,UAAU,8BACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,0BAA2BC,SAAMxB,IAC9CyB,EAAAA,IAAAE,EAAA,CAAaC,QAASxB,EAAMwB,SAAW,iEAKtB,IAApB1B,EAAS2B,SAETP,KAAC,MAAI,CAAAC,UAAU,8BACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,0BAA2BC,SAAMxB,IAC9CyB,EAAAA,IAAA,IAAA,CAAEF,UAAU,gBAAgBC,SAA6C,uDAM9EF,KAAC,MAAI,CAAAC,UAAU,8BACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,0BAA2BC,SAAMxB,UAE9C,MAAI,CAAAuB,UAAU,uDACZC,SAAAtB,EAAS4B,KAAehB,IACvB,MAAMiB,EAASlB,EAAkBC,EAAS,YAAcA,EAAQkB,IAC1DC,EA3DU,CAACnB,IACvB,IAAKA,EAAQoB,uBAAkE,IAAzCpB,EAAQoB,sBAAsBL,OAC3D,MAAA,yBAGT,MAAMM,EAAYrB,EAAQoB,sBAAsBhB,SAAYkB,EAAIC,MAAMC,SAAS,UAAYF,EAAIC,MAAMC,SAAS,iBAC9G,OAAIH,EACK,yBAAyBA,EAAUI,OAGrC,yBAAyBzB,EAAQoB,sBAAsB,GAAGK,QAiD1CC,CAAgB1B,GAC3B2B,EAAe5B,EAAkBC,EAAS,iBAG9C,SAAAW,IAAC,MAAqB,CAAAF,UAAU,QAC9BC,SAAAF,OAACoB,EAAK,CAAAC,GAAI,YAAYZ,IAAUR,UAAU,QACxCC,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,qEACbC,SAAA,CAAAoB,EAAAnB,IAAC,MAAA,CACCoB,IAAKZ,EACLa,IAAKhC,EAAQiC,KACb5C,QAAQ,OACRoB,UAAU,mGACVyB,QAAUC,IACRA,EAAEC,OAAOC,QAAU,KACnBF,EAAEC,OAAOL,IAAM,4BAKlBJ,KACChB,IAAC,MAAI,CAAAF,UAAU,kFAAkFC,SAEjG,SAIDC,EAAAA,IAAA,MAAA,CAAIF,UAAU,wJAAwJC,SAEvK,kBAGDC,EAAAA,IAAA,KAAA,CAAGF,UAAU,kFACXC,WAAQuB,aAGV,MAAA,CAAIxB,UAAU,oBACZC,WAEGoB,EAAAtB,KAAA8B,WAAA,CAAA5B,SAAA,CAAAC,MAAC,OAAK,CAAAF,UAAU,gCACbC,SAAAlB,EAAYmC,WAEd,OAAK,CAAAlB,UAAU,qCACbC,SAAYlB,EAAAQ,EAAQP,kBAIxB,OAAK,CAAAgB,UAAU,4BACbC,SAAYlB,EAAAQ,EAAQP,eA3CrBO,EAAQuC"}