{"version":3,"file":"Login-DPQn78Gy.js","sources":["../../../src/components/forms/CustomerRegisteredForm.jsx","../../../src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport Swal from \"sweetalert2\";\n\n\nfunction CustomerRegisteredForm() {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    agree: false,\n  });\n\n  const [formError, setFormError] = useState(\"\");\n  const [loading, setLoading] = useState(null);\n    const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(\"\");\n    setLoading(true); // Start loading spinner if any\n\n    // Frontend validation\n    if (\n      !formData.firstName ||\n      !formData.lastName ||\n      !formData.email ||\n      !formData.password ||\n      !formData.confirmPassword\n    ) {\n      setFormError(\"Please fill in all required fields.\");\n      setLoading(false);\n      return;\n    }\n\n    if (!formData.email.includes(\"@\")) {\n      setFormError(\"Enter a valid email address.\");\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setFormError(\"Passwords do not match.\");\n      setLoading(false);\n      return;\n    }\n\n    if (!formData.agree) {\n      setFormError(\"You must agree to the terms.\");\n      setLoading(false);\n      return;\n    }\n    try {\n      // Send form data to backend\n      const token = await register(formData); // You should define and import `register`\n\n      if (token) {\n        Swal.fire(\n          \"Registration Successful\",\n          \"Redirecting to login page\",\n          \"success\"\n        ).then(() => {\n          navigate(\"/login\");\n        });\n      } else {\n        setFormError(\"Registration failed.\");\n        Swal.fire(\"Failed\", \"Could not register user.\", \"error\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n\n      let message = \"Something went wrong. Please try again.\";\n      if (error.response?.data?.message) {\n        message = error.response.data.message;\n      } else if (error.message) {\n        message = error.message;\n      }\n\n      setFormError(message);\n      Swal.fire(\"Error\", message, \"error\");\n    } finally {\n      setLoading(false); // Stop loading spinner\n    }\n  };\n\n  return (\n    <>\n      {formError && <p className=\"text-red-600 mb-4\">{formError}</p>}\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-4\">\n          <label htmlFor=\"name\" className=\"block text-gray-700 mb-2\">\n            First Name\n          </label>\n          <input\n            type=\"text\"\n            id=\"firstNameme\"\n            name=\"firstName\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-600\"\n            placeholder=\"Enetr your name\"\n            required\n            value={formData.firstName}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"mb-4\">\n          <label htmlFor=\"name\" className=\"block text-gray-700 mb-2\">\n            Last Name\n          </label>\n          <input\n            type=\"text\"\n            id=\"lastName\"\n            name=\"lastName\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-600\"\n            placeholder=\"Enetr your name\"\n            required\n            value={formData.lastName}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"mb-4\">\n          <label htmlFor=\"email\" className=\"block text-gray-700 mb-2\">\n            Email Address\n          </label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-600\"\n            placeholder=\"your@email.com\"\n            required\n            value={formData.email}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"mb-4\">\n          <label htmlFor=\"password\" className=\"block text-gray-700 mb-2\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-600\"\n            placeholder=\"••••••••\"\n            required\n            value={formData.password}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"mb-6\">\n          <label htmlFor=\"confirmPassword\" className=\"block text-gray-700 mb-2\">\n            Confirm Password\n          </label>\n          <input\n            type=\"password\"\n            id=\"confirmPassword\"\n            name=\"confirmPassword\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-600\"\n            placeholder=\"••••••••\"\n            required\n            value={formData.confirmPassword}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"mb-6\">\n          <label className=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              name=\"agree\"\n              className=\"mr-2\"\n              required\n              checked={formData.agree}\n              onChange={handleChange}\n            />\n            <span className=\"text-gray-700 text-sm\">\n              I agree to the{\" \"}\n              <a href=\"#\" className=\"text-indigo-600 hover:underline\">\n                Terms of Service\n              </a>{\" \"}\n              and{\" \"}\n              <a href=\"#\" className=\"text-indigo-600 hover:underline\">\n                Privacy Policy\n              </a>\n            </span>\n          </label>\n        </div>\n        <button\n          type=\"submit\"\n          className=\"w-full bg-indigo-600 text-white py-3 rounded font-medium hover:bg-indigo-700 transition\"\n        >\n          Create Account\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default React.memo(CustomerRegisteredForm);\n","import React from 'react'\nimport Loginforms from '../components/forms/Loginforms'\nimport CustomerRegisteredForm from '../components/forms/CustomerRegisteredForm'\n\n\nfunction Login() {\n  return (\n    <>\n    <main className=\"container mx-auto px-4 py-12\">\n     \n      <div className=\"mb-6\">\n        <nav className=\"flex\" aria-label=\"Breadcrumb\">\n          <ol className=\"inline-flex items-center space-x-1 md:space-x-3\">\n            <li className=\"inline-flex items-center\">\n              <a href=\"/\" className=\"text-gray-500 hover:text-indigo-600\">\n                <i className=\"fas fa-home mr-2\"></i>Home\n              </a>\n            </li>\n            <li>\n              <div className=\"flex items-center\">\n                <i className=\"fas fa-chevron-right text-gray-400 mx-2 text-xs\"></i>\n                <span className=\"text-indigo-600\">Login</span>\n              </div>\n            </li>\n          </ol>\n        </nav>\n      </div>\n\n      <div className=\"flex flex-col md:flex-row gap-8 justify-center\">\n       \n        <div className=\"w-full md:w-1/2 lg:w-1/3\">\n          <div className=\"bg-white p-8 rounded-lg shadow-sm\">\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Login</h2>\n            <Loginforms  />\n          </div>\n        </div>\n\n       \n        <div className=\"w-full md:w-1/2 lg:w-1/3 mt-8 md:mt-0\">\n          <div className=\"bg-white p-8 rounded-lg shadow-sm\">\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Create Account</h2>\n            <CustomerRegisteredForm />\n          </div>\n        </div>\n      </div>\n    </main>\n    </>\n  )\n}\n\nexport default Login"],"names":["CustomerRegisteredForm$1","React","memo","formData","setFormData","useState","firstName","lastName","email","password","confirmPassword","agree","formError","setFormError","loading","setLoading","register","useAuth","navigate","useNavigate","handleChange","e","name","value","type","checked","target","prev","jsxRuntimeExports","jsxs","Fragment","children","jsx","className","onSubmit","async","preventDefault","includes","Swal","fire","then","error","message","_b","_a","response","data","htmlFor","id","placeholder","required","onChange","href","Login","Loginforms","CustomerRegisteredForm"],"mappings":"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"}