{"version":3,"file":"Cart-Du_DMd6V.js","sources":["../../../src/pages/Cart.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCart } from '../hooks/useCart';\nimport { formatPrice } from '../utils/formatters';\nimport LoadingSpinner from '../utils/Loader';\n\nconst Cart = () => {\n  const { \n    cartItems, \n    loading, \n    updating, \n    error, \n    fetchCartData, \n    updateItemQuantity, \n    removeItem, \n    calculateSubtotal \n  } = useCart();\n  // Render error state\n  if (error) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-2xl font-bold mb-6\">Shopping Cart</h1>\n        <div className=\"bg-white rounded-lg shadow-md p-8\">\n          <div className=\"text-red-500 mb-4\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 mx-auto text-red-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-semibold mb-2 text-center\">Error Loading Cart</h2>\n          <p className=\"text-gray-600 mb-6 text-center\">{error}</p>\n          <div className=\"flex justify-center\">\n            <button \n              onClick={fetchCartData} \n              className=\"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Render empty cart state\n  if (!loading && (!cartItems || cartItems.length === 0)) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-2xl font-bold mb-6\">Shopping Cart</h1>\n        <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n          <div className=\"text-gray-500 mb-4\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 mx-auto text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-semibold mb-2\">Your cart is empty</h2>\n          <p className=\"text-gray-600 mb-6\">Looks like you haven't added any products to your cart yet.</p>\n          <Link to=\"/products\" className=\"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors\">\n            Continue Shopping\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-2xl font-bold mb-6\">Shopping Cart</h1>\n      \n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <LoadingSpinner />\n        </div>\n      ) : (\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          {/* Cart Items */}\n          <div className=\"lg:w-2/3\">\n            <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-100\">\n                  <tr>\n                    <th className=\"py-3 px-4 text-left\">Product</th>\n                    <th className=\"py-3 px-4 text-center\">Price</th>\n                    <th className=\"py-3 px-4 text-center\">Quantity</th>\n                    <th className=\"py-3 px-4 text-center\">Total</th>\n                    <th className=\"py-3 px-4 text-center\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {cartItems.map(item => (\n                    <tr key={item.item_id} className=\"hover:bg-gray-50\">\n                      <td className=\"py-4 px-4\">\n                        <div className=\"flex items-center\">\n                          {item.extension_attributes?.image_url ? (\n                            <img \n                              src={item.extension_attributes.image_url} \n                              alt={item.name} \n                              className=\"w-16 h-16 object-cover rounded\"\n                              loading=\"lazy\"\n                            />\n                          ) : (\n                            <div className=\"w-16 h-16 bg-gray-200 rounded flex items-center justify-center\">\n                              <span className=\"text-gray-500 text-xs\">No image</span>\n                            </div>\n                          )}\n                          <div className=\"ml-4\">\n                            <h3 className=\"font-medium text-gray-900\">{item.name}</h3>\n                            <p className=\"text-sm text-gray-500\">SKU: {item.sku}</p>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"py-4 px-4 text-center\">\n                        {formatPrice(item.price)}\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <div className=\"flex items-center justify-center\">\n                          <button \n                            onClick={() => updateItemQuantity(item.item_id, Math.max(1, item.qty - 1))}\n                            disabled={updating || item.qty <= 1}\n                            className=\"w-8 h-8 rounded-l border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50\"\n                          >\n                            -\n                          </button>\n                          <input\n                            type=\"number\"\n                            min=\"1\"\n                            value={item.qty}\n                            onChange={(e) => updateItemQuantity(item.item_id, parseInt(e.target.value) || 1)}\n                            className=\"w-12 h-8 border-t border-b border-gray-300 text-center focus:outline-none\"\n                          />\n                          <button \n                            onClick={() => updateItemQuantity(item.item_id, item.qty + 1)}\n                            disabled={updating}\n                            className=\"w-8 h-8 rounded-r border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50\"\n                          >\n                            +\n                          </button>\n                        </div>\n                      </td>\n                      <td className=\"py-4 px-4 text-center font-medium\">\n                        {formatPrice(item.price * item.qty)}\n                      </td>\n                      <td className=\"py-4 px-4 text-center\">\n                        <button \n                          onClick={() => removeItem(item.item_id)}\n                          disabled={updating}\n                          className=\"text-red-600 hover:text-red-800 disabled:opacity-50\"\n                        >\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                            <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                          </svg>\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            \n            <div className=\"mt-6 flex justify-between items-center\">\n              <Link to=\"/products\" className=\"text-blue-600 hover:text-blue-800\">\n                <span className=\"flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n                  </svg>\n                  Continue Shopping\n                </span>\n              </Link>\n              <button \n                onClick={fetchCartData} \n                className=\"text-gray-600 hover:text-gray-800\"\n                disabled={updating || loading}\n              >\n                <span className=\"flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\" clipRule=\"evenodd\" />\n                  </svg>\n                  Refresh Cart\n                </span>\n              </button>\n            </div>\n          </div>\n          \n          {/* Order Summary */}\n          <div className=\"lg:w-1/3\">\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-lg font-semibold mb-4\">Order Summary</h2>\n              \n              {/* Totals */}\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Subtotal</span>\n                  <span className=\"font-medium\">{formatPrice(calculateSubtotal())}</span>\n                </div>\n                \n                <div className=\"border-t pt-2 mt-2\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-semibold\">Total</span>\n                    <span className=\"font-bold text-lg\">{formatPrice(calculateSubtotal())}</span>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Checkout Button */}\n              <div className=\"mt-6\">\n                <Link\n                  to=\"/checkout\"\n                  className=\"block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-md hover:bg-blue-700 transition-colors\"\n                >\n                  Proceed to Checkout\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n"],"names":["Cart","cartItems","loading","updating","error","fetchCartData","updateItemQuantity","removeItem","calculateSubtotal","useCart","jsxs","className","children","jsx","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","jsxRuntimeExports","onClick","length","LoadingSpinner","map","item","_a","extension_attributes","image_url","src","alt","name","sku","formatPrice","price","item_id","Math","max","qty","disabled","type","min","value","onChange","e","parseInt","target","fillRule","clipRule","Link","to"],"mappings":"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"}