import{r as t}from"./vendor-frSDhvcu.js";import{C as e}from"./index-Vo_pZ44y.js";const r=()=>{const r=e(),[s,o]=t.useState(null),[a,c]=t.useState(!1),[i,u]=t.useState(null),[l,d]=t.useState([]),{featuredProducts:n,newProducts:g,bestSellingProducts:P,productFilters:y,globalProductAggregations:p,loading:f,error:b,lastFetched:C,getProducts:h,searchProducts:S,getProductsByCategory:m,getProductFilters:k,fetchGlobalProductAggregations:w,getCrossSellProducts:F,getUpSellProducts:_,getProductReviews:A,submitProductReview:R,getProductStockStatus:B,refreshAllProducts:U}=r,v=t.useCallback((async t=>{c(!0),u(null);try{const e=await r.getProductBySku(t);if(o(e),e&&e.sku){const t=await r.getRelatedProducts(e.sku);d(t||[])}return e}catch(e){return u(e.message||"Failed to fetch product details by SKU"),null}finally{c(!1)}}),[r]),D=t.useCallback((async t=>{try{const e=await r.getProducts(t);return{items:e.items,total_count:e.total_count,page_info:e.page_info}}catch(e){throw e}}),[r]),I=t.useCallback((async t=>{c(!0),u(null);try{const e=await r.getProductById(t);if(o(e),e&&e.sku){const t=await r.getRelatedProducts(e.sku);d(t||[])}return e}catch(e){return u(e.message||"Failed to fetch product details by ID"),null}finally{c(!1)}}),[r]),O=t.useCallback((async t=>{c(!0),u(null);try{const e=await r.getProductByUrlKey(t);if(o(e),e&&e.sku){const t=await r.getRelatedProducts(e.sku);d(t||[])}return e}catch(e){return u(e.message||"Failed to fetch product details by URL key"),null}finally{c(!1)}}),[r]),j=t.useCallback((t=>{if(!s||!s.custom_attributes)return null;const e=s.custom_attributes.find((e=>e.attribute_code===t));return e?e.value:null}),[s]),x=t.useCallback((()=>{if(!s||!s.media_gallery_entries)return[];const t=s.media_gallery_entries.map((t=>({id:t.id,label:t.label,position:t.position,disabled:t.disabled,file:t.file,types:t.types||[]})));return t.sort(((t,e)=>{const r=t.types.includes("image"),s=e.types.includes("image");return r&&!s?-1:!r&&s?1:t.position-e.position})),t}),[s]),z=t.useCallback((t=>{if(!t||0===Object.keys(t).length)return{pageSize:20,currentPage:1,sortField:"position",sortDirection:"ASC"};if(Object.keys(t).some((t=>t.includes("searchCriteria")))){const e=t["searchCriteria[pageSize]"]||20,r=t["searchCriteria[currentPage]"]||1;let s="position",o="ASC";return t["searchCriteria[sortOrders][0][field]"]&&(s=t["searchCriteria[sortOrders][0][field]"]),t["searchCriteria[sortOrders][0][direction]"]&&(o=t["searchCriteria[sortOrders][0][direction]"].toUpperCase()),{pageSize:parseInt(e,10),currentPage:parseInt(r,10),sortField:s,sortDirection:o,filterGroups:[]}}return{...t,sortDirection:t.sortDirection?t.sortDirection.toUpperCase():"ASC"}}),[]);return{featuredProducts:n,newProducts:g,bestSellingProducts:P,productFilters:y,globalProductAggregations:p,contextLoading:f,contextError:b,lastFetched:C,product:s,relatedProducts:l,loading:a,error:i,getProducts:h,searchProducts:S,getProductsByCategory:m,getProductFilters:k,fetchGlobalProductAggregations:w,getCrossSellProducts:F,getUpSellProducts:_,getProductReviews:A,submitProductReview:R,getProductStockStatus:B,refreshAllProducts:U,getProductsdata:D,getProductById:I,getProductBySku:v,getProductByUrlKey:O,getCustomAttribute:j,getProductImages:x,normalizeSearchCriteria:z,getRelatedProducts:r.getRelatedProducts}};export{r as u};
//# sourceMappingURL=useProduct-DwD5ms5c.js.map
