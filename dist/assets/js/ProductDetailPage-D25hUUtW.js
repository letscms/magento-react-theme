const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/ConfigurableProductOptions-DBqAj0_t.js","assets/js/vendor-frSDhvcu.js","assets/js/index-Vo_pZ44y.js","assets/js/vendor-apollo-CIbFPnud.js","assets/js/vendor-router-CdLpK7Hz.js","assets/index-tRj2NRpZ.css","assets/js/BundleProductOptions-h6fo1WsC.js"])))=>i.map(i=>d[i]);
import{c as e,f as s,i as t,d as r,L as a,_ as i}from"./index-Vo_pZ44y.js";import{r as l,j as n,R as c}from"./vendor-frSDhvcu.js";import{u as o}from"./useProduct-DwD5ms5c.js";import{E as d}from"./ErrorMessage-DHxw210G.js";import{A as m}from"./AddToCartButton-_YNzBzn1.js";import{u,S as x}from"./seo-MhTlIJlM.js";import{g as p}from"./vendor-apollo-CIbFPnud.js";import{L as g,c as h,u as v}from"./vendor-router-CdLpK7Hz.js";import"./LoginWrapper-B4NtgB4h.js";const y=p`
  mutation CreateProductReview(
    $sku: String!
    $nickname: String!
    $summary: String!
    $text: String!
    $ratings: [ProductReviewRatingInput!]!
  ) {
    createProductReview(
      input: {
        sku: $sku
        nickname: $nickname
        summary: $summary
        text: $text
        ratings: $ratings
      }
    ) {
      review {
        nickname
        summary
        text
        average_rating
        created_at
      }
    }
  }
`,b=p`
  query GetProductReviewRatingsMetadata {
    productReviewRatingsMetadata {
      items {
        id # This is the base64 encoded ID for the rating criteria (e.g., "Quality")
        name # e.g., "Quality", "Price"
        values { # These are the possible options for this rating criteria
          value_id # This is the base64 encoded ID for the specific rating option (e.g., "5 stars for Quality")
          value # e.g., 1, 2, 3, 4, 5 (numeric representation)
        }
      }
    }
  }
`,j=p`
  query GetProductReviews($sku: String!) {
    products(filter: { sku: { eq: $sku } }) {
      items {
        sku
        name
        reviews {
          items {
            nickname
            summary
            text
            average_rating # Added average_rating
            created_at
            ratings_breakdown { # Added ratings_breakdown
              name
              value
            }
          }
          page_info {
            page_size
            current_page
            total_pages
          }
        }
      }
    }
  }
`,f=({productSku:s,onSubmitReviewSuccess:t})=>{const[r,a]=l.useState([]),[i,c]=l.useState({}),[o,d]=l.useState(""),[m,u]=l.useState(""),[x,p]=l.useState(""),[g,h]=l.useState({}),[v,j]=l.useState(!0),[f,N]=l.useState(null);l.useEffect((()=>{(async()=>{try{j(!0),N(null);const s=await(async()=>{try{const{data:s}=await e.query({query:b,fetchPolicy:"cache-first"});return s.productReviewRatingsMetadata&&s.productReviewRatingsMetadata.items?{success:!0,metadata:s.productReviewRatingsMetadata.items}:{success:!0,metadata:[],message:"No rating metadata found."}}catch(s){let e="An unexpected error occurred while fetching rating metadata.";return s.graphQLErrors&&s.graphQLErrors.length>0?e=s.graphQLErrors.map((e=>e.message)).join(" "):s.networkError&&(e="A network error occurred. Please check your connection."),{success:!1,message:e,error:s}}})();s.success?a(s.metadata||[]):(N(s.message||"Failed to load rating options."),a([]))}catch(s){N("An error occurred while loading rating options."),a([])}finally{j(!1)}})()}),[]);return v?n.jsx("p",{children:"Loading rating options..."}):f?n.jsx("p",{className:"text-red-500",children:f}):0===r.length?n.jsx("p",{children:"No rating options available for this product."}):n.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),(()=>{const e={};return r.forEach((s=>{i[s.id]&&i[s.id].value_id||(e[`rating_${s.id}`]=`Please select a rating for ${s.name}.`)})),o.trim()||(e.nickname="Nickname is required."),m.trim()||(e.summary="Summary is required."),x.trim()||(e.reviewText="Review text is required."),h(e),0===Object.keys(e).length})()){const a=r.map((e=>{var s;return{id:e.id,value_id:null==(s=i[e.id])?void 0:s.value_id}})),n={sku:s,nickname:o,summary:m,text:x,ratings:a};try{const s=await(async s=>{var t;const{sku:r,nickname:a,summary:i,text:l,ratings:n}=s;!n||n.length;try{const{data:s}=await e.mutate({mutation:y,variables:{sku:r,nickname:a,summary:i,text:l,ratings:n}});return s.createProductReview&&s.createProductReview.review?{success:!0,review:s.createProductReview.review,message:"Review submitted successfully."}:{success:!1,message:"Failed to submit review. Please check details."}}catch(c){let e="An unexpected error occurred while submitting your review.";return(null==(t=c.graphQLErrors)?void 0:t.length)>0?e=c.graphQLErrors.map((e=>e.message)).join(" "):c.networkError?e="A network error occurred. Please check your connection.":c.message&&(e=c.message),{success:!1,message:e,error:c}}})(n);s.success?(alert(s.message||"Review submitted successfully!"),c({}),d(""),u(""),p(""),h({}),t&&t(s.review)):alert(`Failed to submit review: ${s.message}`)}catch(l){alert("An error occurred while submitting your review. Please try again.")}}},className:"space-y-6 mt-6 p-6 border border-gray-300 rounded-lg shadow-md bg-white",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Write a Review"}),r.map((e=>n.jsxs("div",{className:"py-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.name," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"flex space-x-1",children:e.values.map((s=>{var t,r;const a=null==(t=i[e.id])?void 0:t.numeric_value,l=s.value<=a;return n.jsx("button",{type:"button",onClick:()=>{return t=e.id,r=s.value_id,a=s.value,void c((e=>({...e,[t]:{value_id:r,numeric_value:a}})));var t,r,a},className:`text-3xl transition-colors duration-150 ease-in-out\n                              ${l?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}\n                              ${(null==(r=i[e.id])?void 0:r.value_id)===s.value_id?"scale-110":""}`,"aria-label":`Rate ${s.value} for ${e.name}`,title:`${s.value} stars`,children:"★"},s.value_id)}))}),g[`rating_${e.id}`]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g[`rating_${e.id}`]})]},e.id))),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700",children:["Nickname ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"nickname",value:o,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),g.nickname&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.nickname})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-700",children:["Summary ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"summary",value:m,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),g.summary&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.summary})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"reviewText",className:"block text-sm font-medium text-gray-700",children:["Review ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{id:"reviewText",value:x,onChange:e=>p(e.target.value),rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),g.reviewText&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.reviewText})]}),n.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit Review"})]})},N=({rating:e,size:s="text-xl"})=>{const t=parseFloat(e),r=isNaN(t)?0:Math.max(0,Math.min(5,Math.round(t)));return n.jsx("div",{className:"flex",children:[...Array(5)].map(((e,t)=>n.jsx("span",{className:`${s} ${t<r?"text-yellow-400":"text-gray-300"}`,children:"★"},t)))})},w=({review:e})=>{if(!e)return null;const{nickname:s,summary:t,text:r,created_at:a,average_rating:i,ratings_breakdown:l}=e,c=a?new Date(a).toLocaleDateString():"Date not available",o=i?Math.round(parseFloat(i)/20):0;return n.jsxs("div",{className:"border-b border-gray-200 py-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-3",children:[n.jsx("div",{className:"mb-2 sm:mb-0",children:n.jsx(N,{rating:o})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800 sm:ml-3",children:t})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["By ",n.jsx("span",{className:"font-medium text-gray-700",children:s})," on ",c]}),n.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4",children:r}),l&&l.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Detailed Ratings:"}),n.jsx("ul",{className:"space-y-1",children:l.map(((e,s)=>n.jsxs("li",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[e.name,":"]}),n.jsx(N,{rating:parseFloat(e.value),size:"text-md"})]},s)))})]})]})},_=({product:e})=>{const{baseMediaUrl:t}=u(),{downloadable_product_links:r,downloadable_product_samples:a,links_purchased_separately:i}=e,l=e=>"url"===e.sample_type&&e.sample_url?e.sample_url:"file"===e.sample_type&&e.sample_file?`${t||""}downloadable/files/samples${e.sample_file.startsWith("/")?"":"/"}${e.sample_file}`:"#";return r&&0!==r.length||a&&0!==a.length?n.jsxs("div",{className:"mt-4 mb-6 space-y-6",children:[r&&r.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Downloadable Links"}),i&&n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Links can be purchased separately."}),n.jsx("ul",{className:"space-y-2 list-disc list-inside bg-gray-50 p-4 rounded-md border",children:r.map((t=>{var r,a,i;const c=l(t);return n.jsxs("li",{className:"text-gray-700",children:[t.title||"Downloadable Link",t.price>0&&n.jsxs("span",{className:"ml-2 text-sm text-indigo-600",children:["(+",s(t.price,(null==(i=null==(a=null==(r=e.price_range)?void 0:r.minimum_price)?void 0:a.final_price)?void 0:i.currency)||"USD"),")"]}),"#"!==c&&n.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-sm text-indigo-500 hover:text-indigo-700 underline",children:"Sample"})]},t.id||t.link_id)}))})]}),a&&a.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Product Samples"}),n.jsx("ul",{className:"space-y-2 list-disc list-inside bg-gray-50 p-4 rounded-md border",children:a.map((e=>{const s=l(e);return n.jsxs("li",{className:"text-gray-700",children:[e.title||"Sample File","#"!==s?n.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-sm text-indigo-500 hover:text-indigo-700 underline",children:"Download Sample"}):n.jsx("span",{className:"ml-3 text-sm text-gray-400",children:"(Sample not available)"})]},e.id||e.sample_id)}))})]})]}):n.jsx("p",{className:"text-gray-600 mt-4",children:"No downloadable content available for this product."})},k=({product:e,onGroupedItemsChange:t})=>{const{items:r}=e,[a,i]=l.useState({});l.useEffect((()=>{const e={};r&&r.forEach((s=>{e[s.product.sku]=s.qty||0})),i(e),t&&t(e)}),[r,t]);const c=l.useCallback(((e,s)=>{const r=parseInt(s,10);!isNaN(r)&&r>=0&&i((s=>{const a={...s,[e]:r};return t&&t(a),a}))}),[t]);return r&&0!==r.length?n.jsxs("div",{className:"mt-4 mb-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Included Items"}),n.jsx("div",{className:"space-y-4",children:r.map((e=>{var t,r,i;return n.jsxs("div",{className:"p-4 border rounded-md shadow-sm bg-gray-50 flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex items-center mb-3 sm:mb-0",children:[(null==(t=e.product.small_image)?void 0:t.url)&&n.jsx("img",{src:e.product.small_image.url,alt:e.product.small_image.label||e.product.name,className:"w-16 h-16 object-contain mr-4 rounded"}),n.jsxs("div",{children:[n.jsx(g,{to:`/product/${e.product.url_key}`,className:"text-indigo-600 hover:underline font-medium",children:e.product.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",e.product.sku]}),(null==(i=null==(r=e.product.price_range)?void 0:r.minimum_price)?void 0:i.final_price)&&n.jsxs("p",{className:"text-sm text-gray-700",children:["Price: ",s(e.product.price_range.minimum_price.final_price.value,e.product.price_range.minimum_price.final_price.currency)]}),n.jsx("p",{className:"text-sm "+("IN_STOCK"===e.product.stock_status?"text-green-600":"text-red-500"),children:"IN_STOCK"===e.product.stock_status?"In Stock":"Out of Stock"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("label",{htmlFor:`qty-${e.product.sku}`,className:"text-sm font-medium text-gray-700 mr-2 sr-only",children:["Quantity for ",e.product.name,":"]}),n.jsx("input",{type:"number",id:`qty-${e.product.sku}`,min:"0",value:a[e.product.sku]||0,onChange:s=>c(e.product.sku,s.target.value),className:"w-20 py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:"IN_STOCK"!==e.product.stock_status})]})]},e.product.id||e.product.sku)}))})]}):n.jsx("p",{className:"text-gray-600 mt-4",children:"This product has no associated items."})},S=({filled:e})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 "+(e?"text-red-500 fill-current":"text-gray-500"),viewBox:"0 0 20 20",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:e?"0":"1.5",children:n.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),C=()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),$=c.lazy((()=>i((()=>import("./ConfigurableProductOptions-DBqAj0_t.js")),__vite__mapDeps([0,1,2,3,4,5])))),R=c.lazy((()=>i((()=>import("./BundleProductOptions-h6fo1WsC.js")),__vite__mapDeps([6,1,2,3,4,5])))),I=c.memo((()=>{var i,c,u,p,g,y,b;const{urlKey:N}=h(),I=v(),P=t(),{product:L,loading:E,error:M,getProductByUrlKey:T}=o(),{isInWishlist:A,addItemToWishlist:O,removeItemFromWishlist:q}=r(),[F,D]=l.useState(null),[Q,K]=l.useState(1),[z,W]=l.useState("description"),[B,U]=l.useState([]),[H,G]=l.useState(!1),[V,J]=l.useState(null),[X,Y]=l.useState(null),[Z,ee]=l.useState({}),[se,te]=l.useState({}),[re,ae]=l.useState(null),[ie,le]=l.useState({}),ne=l.useMemo((()=>{var e;return L&&A((null==(e=null==X?void 0:X.product)?void 0:e.id)||L.id)}),[L,X,A]),ce=(null==X?void 0:X.product)||L,oe=l.useMemo((()=>{var e;return"bundle"===(null==L?void 0:L.type_id)&&null!==re?{final_price:{value:re,currency:L.price_range.minimum_price.final_price.currency},regular_price:L.price_range.minimum_price.regular_price,discount:L.price_range.minimum_price.discount}:(null==(e=null==ce?void 0:ce.price_range)?void 0:e.minimum_price)||{}}),[L,ce,re]),{regular_price:de,final_price:me,discount:ue}=oe,xe=l.useMemo((()=>ue&&(ue.amount_off>0||ue.percent_off>0)),[ue]),pe=l.useCallback((async()=>{if(P)try{ne?await q(L.id):await O(L.sku)}catch(e){}else I("/login",{state:{from:`/product/${N}`}})}),[P,ne,L,X,N]),ge=l.useCallback(((e,s)=>{var t,r,a;Y(e),ee(s),(null==(r=null==(t=null==e?void 0:e.product)?void 0:t.small_image)?void 0:r.url)?D(e.product.small_image.url):(null==(a=null==L?void 0:L.image)?void 0:a.url)&&D(L.image.url)}),[L]),he=l.useCallback(((e,s)=>{te(e),ae(s)}),[]),ve=l.useCallback((e=>{le(e)}),[]),ye=l.useCallback((()=>{(null==L?void 0:L.sku)&&Ne(L.sku)}),[null==L?void 0:L.sku]),be=l.useCallback((e=>{const s=parseInt(e.target.value);s>0&&K(s)}),[]),je=l.useCallback((()=>K((e=>Math.min(e+1,999)))),[]),fe=l.useCallback((()=>K((e=>Math.max(e-1,1)))),[]),Ne=l.useCallback((async s=>{if(s){G(!0),J(null);try{const t=await(async s=>{try{const{data:t}=await e.query({query:j,variables:{sku:s},fetchPolicy:"network-only"});return t.products&&t.products.items.length>0?{success:!0,reviews:t.products.items[0].reviews.items||[],page_info:t.products.items[0].reviews.page_info}:{success:!0,reviews:[],message:"No reviews found or product does not exist."}}catch(M){let s="An unexpected error occurred while fetching reviews.";return M.graphQLErrors&&M.graphQLErrors.length>0?s=M.graphQLErrors.map((e=>e.message)).join(" "):M.networkError&&(s="A network error occurred. Please check your connection."),{success:!1,message:s,error:M}}})(s);t.success?U(t.reviews||[]):(J(t.message||"Failed to load reviews."),U([]))}catch(t){J("An error occurred while fetching reviews."),U([])}finally{G(!1)}}}),[]);return l.useEffect((()=>{(async()=>{var e,s,t;if(N)try{const r=await T(N);D((null==(s=null==(e=null==r?void 0:r.media_gallery)?void 0:e[0])?void 0:s.url)||(null==(t=null==r?void 0:r.small_image)?void 0:t.url)||null)}catch(r){}})()}),[N,T]),l.useEffect((()=>{(null==L?void 0:L.sku)&&Ne(L.sku)}),[null==L?void 0:L.sku,Ne]),E?n.jsx("div",{className:"min-h-screen flex justify-center items-center",children:n.jsx(a,{})}):M||!L?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx(d,{message:M||`Product "${N}" not found`})}):n.jsxs(n.Fragment,{children:[n.jsx(x,{title:ce.meta_title||ce.name,description:ce.meta_description||(null==(i=ce.description)?void 0:i.html),ogImage:F||(null==(c=ce.image)?void 0:c.url),canonicalUrl:`https://example.com/products/${L.url_key}`}),n.jsxs("div",{className:"bg-gray-50",children:[n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsx("nav",{className:"text-sm",children:n.jsxs("ol",{className:"flex items-center space-x-2",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("a",{href:"/",className:"text-gray-500 hover:text-indigo-600",children:"Home"}),n.jsx("span",{className:"mx-2 text-gray-400",children:"/"})]}),n.jsx("li",{className:"text-indigo-600 font-medium",children:L.name})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row -mx-4",children:[n.jsxs("div",{className:"md:flex-1 px-4 mb-6 md:mb-0",children:[n.jsx("div",{className:"h-64 md:h-80 rounded-lg bg-gray-100 mb-4 flex items-center justify-center",children:n.jsx("img",{src:F||(null==(u=ce.small_image)?void 0:u.url),alt:ce.name,loading:"eager",className:"max-h-full max-w-full object-contain ",width:"300px",height:"300px"})}),(null==(p=L.media_gallery)?void 0:p.length)>0&&n.jsx("div",{className:"flex flex-wrap -mx-2 mb-4",children:L.media_gallery.map(((e,s)=>n.jsx("div",{className:"w-1/4 px-2 mb-4",onClick:()=>D(e.url),children:n.jsx("div",{className:"h-24 rounded-lg bg-gray-100 flex items-center justify-center cursor-pointer "+(e.url===F?"ring-2 ring-indigo-500":""),children:n.jsx("img",{src:e.url,alt:e.label||`${L.name} thumbnail ${s+1}`,loading:"lazy",className:"max-h-full max-w-full object-contain w-[100px] h-[00px] ",width:"100px",height:"100px"})})},e.url||s)))})]}),n.jsxs("div",{className:"md:flex-1 px-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:ce.name}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-bold text-gray-700 mr-2",children:"SKU:"}),n.jsx("span",{className:"text-gray-600",children:ce.sku})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-bold text-gray-700 mr-2",children:"Availability:"}),n.jsx("span",{className:"IN_STOCK"===ce.stock_status?"text-green-600":"text-red-600",children:"IN_STOCK"===ce.stock_status?"In Stock":"Out of Stock"})]})]}),"configurable"===L.type_id&&L.configurable_options&&n.jsx($,{product:L,onVariantChange:ge,selectedOptions:Z}),"bundle"===L.type_id&&L.items&&n.jsx(R,{product:L,onBundleSelectionChange:he}),"downloadable"===L.type_id&&n.jsx(_,{product:L}),"grouped"===L.type_id&&L.items&&n.jsx(k,{product:L,onGroupedItemsChange:ve}),n.jsx("div",{className:"mb-4",children:xe?n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("span",{className:"text-3xl font-bold text-indigo-600 mr-2",children:s(me.value,me.currency)}),n.jsx("span",{className:"text-lg text-gray-500 line-through",children:s(de.value,de.currency)}),n.jsx("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded",children:"SALE"})]}):n.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:s(me.value,me.currency)})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsxs("div",{className:"flex items-center border border-gray-300 rounded",children:[n.jsx("button",{className:"py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-l",onClick:fe,"aria-label":"Decrease quantity",children:"-"}),n.jsx("input",{type:"number",min:"1",max:"999",value:Q,onChange:be,className:"py-2 px-4 text-center w-16 border-none focus:outline-none focus:ring-0","aria-label":"Quantity"}),n.jsx("button",{className:"py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-r",onClick:je,"aria-label":"Increase quantity",children:"+"})]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(m,{product:ce,quantity:Q,selectedOptions:"configurable"===L.type_id?Z:void 0,bundleSelections:"bundle"===L.type_id?se:void 0,groupedItemsQuantities:"grouped"===L.type_id?ie:void 0,disabled:"grouped"!==L.type_id&&"IN_STOCK"!==ce.stock_status||"configurable"===L.type_id&&!X||"bundle"===L.type_id&&(!se||0===Object.keys(se).length||L.items&&!L.items.every((e=>!e.required||se[e.option_id])))||"grouped"===L.type_id&&(!ie||Object.values(ie).every((e=>0===e))||L.items&&Object.entries(ie).some((([e,s])=>{if(s>0){const s=L.items.find((s=>s.product.sku===e));return!s||"IN_STOCK"!==s.product.stock_status}return!1}))),children:n.jsx(C,{})}),n.jsx("button",{onClick:pe,className:`border ${ne?"border-red-300 bg-red-50":"border-gray-300"} text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-100 transition-colors flex items-center`,"aria-label":ne?"Remove from wishlist":"Add to wishlist",children:n.jsx(S,{filled:ne})})]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:["description","details","reviews"].map((e=>n.jsx("button",{className:"py-2 px-4 font-medium capitalize "+(z===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-indigo-600"),onClick:()=>W(e),children:e},e)))}),n.jsxs("div",{className:"py-4",children:["description"===z&&n.jsx("div",{className:"prose max-w-none text-gray-600",dangerouslySetInnerHTML:{__html:(null==(g=L.description)?void 0:g.html)||"No description available"}}),"details"===z&&n.jsxs("div",{className:"text-gray-600",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Product Specifications"}),n.jsxs("div",{className:"prose max-w-none",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",n.jsx("span",{className:"capitalize",children:(null==(y=L.type_id)?void 0:y.replace(/_/g," "))||"N/A"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"SKU:"})," ",ce.sku]}),L.weight&&n.jsxs("p",{children:[n.jsx("strong",{children:"Weight:"})," ",L.weight]}),n.jsx("div",{dangerouslySetInnerHTML:{__html:(null==(b=L.short_description)?void 0:b.html)||""}})]})]}),"reviews"===z&&n.jsxs("div",{className:"text-gray-600",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Reviews"}),H&&n.jsx(a,{}),V&&n.jsx(d,{message:V}),!H&&!V&&n.jsx(n.Fragment,{children:0===B.length?n.jsx("p",{className:"text-gray-500 italic mb-4",children:"No reviews yet. Be the first to review this product!"}):n.jsx("div",{className:"space-y-6 mb-6",children:B.map(((e,s)=>n.jsx(w,{review:e},`${e.created_at}-${s}`)))})}),P?n.jsx(f,{productSku:L.sku,onSubmitReviewSuccess:ye}):n.jsxs("p",{className:"text-gray-600",children:["Please"," ",n.jsx("button",{onClick:()=>I("/login",{state:{from:`/product/${N}`}}),className:"text-indigo-600 hover:underline",children:"log in"})," ","to write a review."]})]})]})]})]})]})]})}));export{I as default};
//# sourceMappingURL=ProductDetailPage-D25hUUtW.js.map
